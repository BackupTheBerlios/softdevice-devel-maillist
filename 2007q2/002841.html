<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] Softplay, unable to play (mpeg) movies.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2007q2/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20Softplay%2C%20unable%20to%20play%20%28mpeg%29%20movies.&In-Reply-To=%3C46136DF1.7020508%40mellander.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002831.html">
   <LINK REL="Next"  HREF="002843.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] Softplay, unable to play (mpeg) movies.</H1>
    <B>Per Mellander</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20Softplay%2C%20unable%20to%20play%20%28mpeg%29%20movies.&In-Reply-To=%3C46136DF1.7020508%40mellander.org%3E"
       TITLE="[Softdevice-devel] Softplay, unable to play (mpeg) movies.">per at mellander.org
       </A><BR>
    <I>Wed Apr  4 11:20:49 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002831.html">[Softdevice-devel] Softplay, unable to play (mpeg) movies.
</A></li>
        <LI>Next message: <A HREF="002843.html">[Softdevice-devel] Softplay, unable to play (mpeg) movies.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2841">[ date ]</a>
              <a href="thread.html#2841">[ thread ]</a>
              <a href="subject.html#2841">[ subject ]</a>
              <a href="author.html#2841">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Martin Wache wrote:

&gt;<i> In principle softplay should be able to replay those files without
</I>&gt;<i> problems. I suspect that the auto detection of the file format fails.
</I>&gt;<i> Could you please try if ffmpeg or ffplay detect the files correctly?
</I>&gt;<i> What does softplay report when you've opened one of those files? There
</I>&gt;<i> should be some lines starting with &quot;Input #0, mpeg, from 'test'&quot;, could
</I>&gt;<i> you please send me those lines?
</I>
@home with FFmpeg version SVN-r7991 and softplay CVS 20070312

I don't see any messages that looks like that. Maybe I've got the wrong 
setting for debug output or maybe it's because I'm running vdr from 
.xinitrc and the messages from vdr is supressed somewhere. I 'm only 
getting the 'X' output in my console where I do 'startx'. What I do find 
is lines like ( in syslog):

Apr  1 17:55:42 mm vdr: [14307] ERROR: Could not open file 
/data2/movies/Teletubbies.mpg! &lt;--------------- extra '!'
Apr  1 17:55:57 mm vdr: [14318] ERROR: Could not open file 
/data2/movies/Barn/NallePuhAdventure.mp &lt;------ missing 'g'
Apr  1 17:56:11 mm vdr: [14329] ERROR: Could not open file 
/data2/movies/Barn/NallePuhChristofferR &lt;------ missing rest of filename 
'obin.mpg'

There is something fishy here connected with the char str[60] used when 
creating the error string. It seems that the last character(s) is 
missed/overwritten/replaced in some way. Is the length of 60 choosen 
because of the OSD?

Haven't tested ffplay @home

Later on I continued this message @work where I run FFmpeg version 
SVN-r8487 and softplay CVS 20070323. Same problem with same files.

console says:

PLDBG: Activate 1
PLDBG: Thread started: SoftPlayer
softdevicePlugin 0xa1468b8
Service 'softdevice-GetPacketHandles-v1.0'
IsStream .mpg
open file '/transfer/download/film/Pettson och Findus - Kattonauten .mpg'
PLDBG: ~cSoftControl()
PLDBG: ~cSoftPlayer
could not open file. Return value -84
ic is null!!
PLDBG: SoftPlayer not runnig. Looking for next file
PLDBG: SoftPlayer not runnig. Looking for next file
PLDBG: SoftPlayer not runnig. Looking for next file
....
------------8&lt;-------------------------------------
(Here I press stop)
------------8&lt;-------------------------------------
....
PLDBG: SoftPlayer not runnig. Looking for next file
PLDBG: SoftPlayer not runnig. Looking for next file
PLDBG: SoftPlayer not runnig. Looking for next file
PLDBG: Thread beendet : SoftPlayer
PLDBG: Activate 0


ffplay playes the movie without problem

ffplay -stats &quot;Pettson och Findus - Kattonauten .mpg&quot;
Input #0, mpeg, from 'Pettson och Findus - Kattonauten .mpg':
   Duration: 01:15:59.2, start: 0.346711, bitrate: 1394 kb/s
   Stream #0.0[0x1e0]: Video: mpeg1video, yuv420p, 352x288, 1150 kb/s, 
25.00 fps(r)
   Stream #0.1[0x1c0]: Audio: mp2, 44100 Hz, stereo, 224 kb/s
    3.95 A-V:  0.002 aq=   80KB vq=  420KB sq=    0B

/Per


ffpl	

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002831.html">[Softdevice-devel] Softplay, unable to play (mpeg) movies.
</A></li>
	<LI>Next message: <A HREF="002843.html">[Softdevice-devel] Softplay, unable to play (mpeg) movies.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2841">[ date ]</a>
              <a href="thread.html#2841">[ thread ]</a>
              <a href="subject.html#2841">[ subject ]</a>
              <a href="author.html#2841">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
