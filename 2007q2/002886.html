<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] A few questions - softdevice+G450
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2007q2/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20A%20few%20questions%20-%20softdevice%2BG450&In-Reply-To=%3C4653E7BA.8010403%40globall.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002884.html">
   <LINK REL="Next"  HREF="002885.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] A few questions - softdevice+G450</H1>
    <B>Vladimir Monchenko</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20A%20few%20questions%20-%20softdevice%2BG450&In-Reply-To=%3C4653E7BA.8010403%40globall.ru%3E"
       TITLE="[Softdevice-devel] A few questions - softdevice+G450">bob at globall.ru
       </A><BR>
    <I>Wed May 23 09:05:30 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002884.html">[Softdevice-devel] A few questions - softdevice+G450
</A></li>
        <LI>Next message: <A HREF="002885.html">[Softdevice-devel] ShmClient: XvVideoOut.Reconfigure format &gt; 3!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2886">[ date ]</a>
              <a href="thread.html#2886">[ thread ]</a>
              <a href="subject.html#2886">[ subject ]</a>
              <a href="author.html#2886">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I got some progress in the investigation.
Files configuration of /etc/directfbrc, /etc/fb.modes and vdr/setup.conf
remained without changes.
After replacement CPU Celeron 850Mhz on Pentium III 933Mhz, I got the
large improvement quality of video, but a problem did not decide fully.

cat /proc/cpuinfo

processor       : 0
vendor_id       : GenuineIntel
cpu family      : 6
model           : 8
model name      : Pentium III (Coppermine)
stepping        : 6
cpu MHz         : 933.405
cache size      : 256 KB
fdiv_bug        : no
hlt_bug         : no
f00f_bug        : no
coma_bug        : no
fpu             : yes
fpu_exception   : yes
cpuid level     : 2
wp              : yes
flags           : fpu vme de pse tsc msr pae mce cx8 sep mtrr pge mca
cmov pat pse36 mmx fxsr sse
bogomips        : 1868.06
clflush size    : 32

I got a strange effect, when CPU load is related to quality of video. I
will make attempt show it on the example vmstat messages.

&gt;<i> Video is very good, without jerks, but CPU load ~80-85%
</I> 3  0      0  18684  10368  72936    0    0     0     0 1166  396 83  0
17  0
 3  0      0  16524  10368  75096    0    0  2160     0 1188  403 80  1
19  0
 3  0      0  16524  10368  75096    0    0     0     0 1162  405 79  3
18  0
 2  0      0  16524  10368  75096    0    0     0     0 1170  403 80  0
20  0
 0  0      0  14340  10368  77280    0    0  2184     0 1179  395 80  2
18  0
 0  0      0  22544  10368  69084    0    0     0     0 1161  410 83  0
17  0
 0  0      0  20360  10368  71272    0    0  2188     0 1177  386 83  1
16  0
 2  0      0  20360  10368  71272    0    0     0     0 1167  400 81  1
18  0
 1  0      0  20276  10368  71272    0    0     0     0 1161  379 86  0
14  0
&gt;<i>  Oops! Video is played with  jerks, the effect of wrong field order
</I>appeared, CPU usage DECREASED to ~60%.
 3  0      0  20360  10368  71272    0    0     0     0 1181  442 63  0
37  0
 0  0      0  18116  10368  73512    0    0  2240     0 1183  440 58  1
41  0
 3  0      0  18116  10368  73512    0    0     0     0 1168  439 59  1
40  0
procs -----------memory---------- ---swap-- -----io---- -system--
----cpu----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy
id wa
 1  0      0  15944  10368  75692    0    0  2180     0 1162  440 57  1
42  0
 0  0      0  15944  10368  75692    0    0     0     0 1178  439 58  2
40  0
 2  0      0  15944  10368  75696    0    0     0     0 1171  452 59  0
41  0
 5  0      0  13760  10420  77868    0    0  2172    60 1188  456 54  3
43  0
 0  0      0  21912  10420  69656    0    0     0     0 1161  421 57  1
42  0
 4  0      0  21912  10420  69656    0    0     0     0 1174  440 58  0
42  0
 0  0      0  19752  10420  71816    0    0  2160     0 1179  449 57  1
42  0
 2  0      0  19752  10420  71816    0    0     0     0 1172  423 60  0
40  0
 2  0      0  19752  10420  71816    0    0     0     0 1170  427 56  1
43  0
 0  0      0  17536  10420  73984    0    0  2168     0 1179  439 61  2
37  0
 1  0      0  17200  10420  73984    0    0     0     0 1163  430 59  0
41  0
 0  0      0  17592  10420  73984    0    0     0     0 1161  428 60  0
40  0
 2  0      0  15420  10420  76148    0    0  2164     0 1184  453 58  1
41  0
 0  0      0  15420  10420  76148    0    0     0     0 1161  442 57  1
42  0
 1  0      0  15420  10420  76148    0    0     0     0 1161  432 59  0
41  0
 1  0      0  21508  10420  70072    0    0  2172     0 1179  451 56  2
42  0
 1  0      0  21508  10420  70072    0    0     0     0 1161  450 57  2
41  0
 0  0      0  21508  10420  70072    0    0     0     0 1161  439 56  1
43  0
 1  0      0  19280  10420  72248    0    0  2176     0 1178  425 77  1
22  0
 2  0      0  19280  10420  72248    0    0     0     0 1172  440 60  0
40  0
 0  0      0  19280  10420  72248    0    0     0     0 1161  448 57  1
42  0
 1  0      0  17084  10420  74444    0    0  2196     0 1179  451 57  2
41  0
 0  0      0  17084  10420  74444    0    0     0     0 1161  445 58  1
41  0
 1  0      0  14924  10420  76604    0    0  2160     0 1182  435 58  0
42  0
 0  0      0  14924  10420  76604    0    0     0     0 1161  440 58  1
41  0
 3  0      0  14924  10420  76604    0    0     0     0 1167  422 66  1
33  0
&gt;<i> Video is very good again, but CPU usage INCREASED to ~80-85%
</I> 0  0      0  20760  10420  70620    0    0  2212     0 1187  405 80  1
19  0
 0  0      0  20760  10420  70620    0    0     0     0 1161  402 80  0
20  0
 0  0      0  20760  10420  70620    0    0     0     0 1161  396 81  0
19  0
 0  0      0  18576  10420  72804    0    0  2184     0 1179  402 83  3
14  0
 2  0      0  18576  10420  72804    0    0     0     0 1167  399 82  1
17  0
 4  0      0  18576  10420  72804    0    0     0     0 1168  394 83  0
17  0
 2  0      0  16392  10420  74980    0    0  2176    44 1185  392 83  2
15  0
 4  0      0  16392  10420  74980    0    0     0     0 1177  404 82  1
17  0
procs -----------memory---------- ---swap-- -----io---- -system--
----cpu----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy
id wa
 2  0      0  16392  10420  74980    0    0     0     0 1167  385 83  0
17  0
 0  0      0  14232  10420  77140    0    0  2160     0 1180  399 80  1
19  0
 0  0      0  14232  10420  77140    0    0     0     0 1162  409 80  0
20  0
 0  0      0  22476  10420  68912    0    0     0     0 1161  385 79  1
20  0
 0  0      0  20316  10420  71080    0    0  2168     0 1180  407 83  0
17  0
 1  0      0  20316  10420  71080    0    0     0     0 1167  407 89  0
11  0

Why do I get large CPU usage? Is the hardware acceleration of video
used? How can it be checked up?

Regards,
Vladimir Monchenko.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002884.html">[Softdevice-devel] A few questions - softdevice+G450
</A></li>
	<LI>Next message: <A HREF="002885.html">[Softdevice-devel] ShmClient: XvVideoOut.Reconfigure format &gt; 3!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2886">[ date ]</a>
              <a href="thread.html#2886">[ thread ]</a>
              <a href="subject.html#2886">[ subject ]</a>
              <a href="author.html#2886">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
