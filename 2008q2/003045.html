<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] VDR crashes after some minutes
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2008q2/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20VDR%20crashes%20after%20some%20minutes&In-Reply-To=%3C47F51D8F.1070909%40gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003059.html">
   <LINK REL="Next"  HREF="003046.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] VDR crashes after some minutes</H1>
    <B>Martin Wache</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20VDR%20crashes%20after%20some%20minutes&In-Reply-To=%3C47F51D8F.1070909%40gmx.net%3E"
       TITLE="[Softdevice-devel] VDR crashes after some minutes">m.wache at gmx.net
       </A><BR>
    <I>Thu Apr  3 20:10:23 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003059.html">[Softdevice-devel] Problems with softdevice (&amp;softplay) 	with	vdr-1.6.0
</A></li>
        <LI>Next message: <A HREF="003046.html">[Softdevice-devel] Problems with softdevice (&amp;softplay)	with vdr-1.6.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3045">[ date ]</a>
              <a href="thread.html#3045">[ thread ]</a>
              <a href="subject.html#3045">[ subject ]</a>
              <a href="author.html#3045">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Andre

Neumann, Andre schrieb:
&gt;<i> Hi,
</I>&gt;<i>  
</I>&gt;<i> softdevice was running rock stable a long time in my system, but since 2
</I>&gt;<i> weeks or so vdr crashes always.
</I>&gt;<i> sometimes after 2 minutes, sometimes after 10 minutes. it happens when
</I>&gt;<i> watching live tv, watching recordings.
</I>&gt;<i>  
</I>
You could try the patch, that I send in the other email some days ago.
Using av_read_packet() should not be used anymore. The softdevice still
uses it because of problems with A/V sync when using av_read_frame().
But these problems seem to be fixed in ffmpeg.

&gt;<i> this is the gdb output i made, maybe anyone can help me please.
</I>&gt;<i>  
</I>&gt;<i> (none):~ # gdb /usr/local/bin/vdr core.2679
</I>&gt;<i> GNU gdb 6.1
</I>&gt;<i> Copyright 2004 Free Software Foundation, Inc.
</I>&gt;<i> GDB is free software, covered by the GNU General Public License, and you are
</I>&gt;<i> welcome to change it and/or distribute copies of it under certain
</I>&gt;<i> conditions.
</I>&gt;<i> Type &quot;show copying&quot; to see the conditions.
</I>&gt;<i> There is absolutely no warranty for GDB.  Type &quot;show warranty&quot; for details.
</I>&gt;<i> This GDB was configured as &quot;i586-suse-linux&quot;...(no debugging symbols
</I>&gt;<i> found)...Using host libthread_db library &quot;/lib/tls/libthread_db.so.1&quot;.
</I>&gt;<i> Core was generated by `/usr/local/bin/vdr -s /usr/bin/vdrshutdown
</I>&gt;<i> --no-kbd --lirc -rnoad --statisticfi'.
</I>&gt;<i> Program terminated with signal 6, Aborted.
</I>&gt;<i> warning: current_sos: Can't read pathname for load map: Input/output error
</I>&gt;<i> Reading symbols from /usr/lib/libjpeg.so.62...(no debugging symbols
</I>&gt;<i> found)...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libjpeg.so.62
</I>&gt;<i> Reading symbols from /lib/i686/libpthread.so.0...(no debugging symbols
</I>&gt;<i> found)...done.
</I>&gt;<i> Loaded symbols for /lib/i686/libpthread.so.0
</I>&gt;<i> Reading symbols from /lib/libdl.so.2...(no debugging symbols found)...done.
</I>&gt;<i> Loaded symbols for /lib/libdl.so.2
</I>&gt;<i> Reading symbols from /lib/libcap.so.1...done.
</I>&gt;<i> Loaded symbols for /lib/libcap.so.1
</I>&gt;<i> Reading symbols from /lib/librt.so.1...done.
</I>&gt;<i> Loaded symbols for /lib/librt.so.1
</I>&gt;<i> Reading symbols from /usr/lib/libfreetype.so.6...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libfreetype.so.6
</I>&gt;<i> Reading symbols from /usr/lib/libfontconfig.so.1...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libfontconfig.so.1
</I>&gt;<i> Reading symbols from /usr/lib/libstdc++.so.5...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libstdc++.so.5
</I>&gt;<i> Reading symbols from /lib/i686/libm.so.6...done.
</I>&gt;<i> Loaded symbols for /lib/i686/libm.so.6
</I>&gt;<i> Reading symbols from /lib/libgcc_s.so.1...done.
</I>&gt;<i> Loaded symbols for /lib/libgcc_s.so.1
</I>&gt;<i> Reading symbols from /lib/i686/libc.so.6...done.
</I>&gt;<i> Loaded symbols for /lib/i686/libc.so.6
</I>&gt;<i> Reading symbols from /lib/ld-linux.so.2...done.
</I>&gt;<i> Loaded symbols for /lib/ld-linux.so.2
</I>&gt;<i> Reading symbols from /usr/lib/libexpat.so.0...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libexpat.so.0
</I>&gt;<i> Reading symbols from /usr/lib/gconv/ISO8859-1.so...done.
</I>&gt;<i> Loaded symbols for /usr/lib/gconv/ISO8859-1.so
</I>&gt;<i> Reading symbols from /usr/lib/gconv/ISO8859-2.so...done.
</I>&gt;<i> Loaded symbols for /usr/lib/gconv/ISO8859-2.so
</I>&gt;<i> Reading symbols from /usr/lib/gconv/ISO8859-15.so...done.
</I>&gt;<i> Loaded symbols for /usr/lib/gconv/ISO8859-15.so
</I>&gt;<i> Reading symbols from /usr/lib/gconv/ISO8859-7.so...done.
</I>&gt;<i> Loaded symbols for /usr/lib/gconv/ISO8859-7.so
</I>&gt;<i> Reading symbols from /usr/lib/gconv/ISO8859-13.so...done.
</I>&gt;<i> Loaded symbols for /usr/lib/gconv/ISO8859-13.so
</I>&gt;<i> Reading symbols from /usr/lib/gconv/ISO8859-5.so...done.
</I>&gt;<i> Loaded symbols for /usr/lib/gconv/ISO8859-5.so
</I>&gt;<i> Reading symbols from /usr/lib/gconv/ISO8859-9.so...done.
</I>&gt;<i> Loaded symbols for /usr/lib/gconv/ISO8859-9.so
</I>&gt;<i> Reading symbols from /usr/lib/libvdr-softdevice.so.1.6.0...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libvdr-softdevice.so.1.6.0
</I>&gt;<i> Reading symbols from /usr/lib/libavcodec.so.51...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libavcodec.so.51
</I>&gt;<i> Reading symbols from /lib/libz.so.1...done.
</I>&gt;<i> Loaded symbols for /lib/libz.so.1
</I>&gt;<i> Reading symbols from /usr/lib/libmp3lame.so.0...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libmp3lame.so.0
</I>&gt;<i> Reading symbols from /usr/lib/libx264.so.54...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libx264.so.54
</I>&gt;<i> Reading symbols from /usr/lib/libfaac.so.0...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libfaac.so.0
</I>&gt;<i> Reading symbols from /usr/lib/libfaad.so.0...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libfaad.so.0
</I>&gt;<i> Reading symbols from /usr/lib/libvorbisenc.so.2...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libvorbisenc.so.2
</I>&gt;<i> Reading symbols from /usr/lib/libavutil.so.49...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libavutil.so.49
</I>&gt;<i> Reading symbols from /usr/lib/libvorbis.so.0...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libvorbis.so.0
</I>&gt;<i> Reading symbols from /usr/lib/libogg.so.0...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libogg.so.0
</I>&gt;<i> Reading symbols from /usr/lib/libavformat.so.51...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libavformat.so.51
</I>&gt;<i> Reading symbols from /usr/lib/libpostproc.so.51...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libpostproc.so.51
</I>&gt;<i> Reading symbols from /usr/lib/libasound.so.2...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libasound.so.2
</I>&gt;<i> Reading symbols from /usr/lib/libdfb++-1.0.so.0...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libdfb++-1.0.so.0
</I>&gt;<i> Reading symbols from /usr/lib/libdirectfb-1.0.so.0...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libdirectfb-1.0.so.0
</I>&gt;<i> Reading symbols from /usr/lib/libfusion-1.0.so.0...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libfusion-1.0.so.0
</I>&gt;<i> Reading symbols from /usr/lib/libdirect-1.0.so.0...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libdirect-1.0.so.0
</I>&gt;<i> Reading symbols from /usr/lib/libcle266mpegdec-0.5.so...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libcle266mpegdec-0.5.so
</I>&gt;<i> Reading symbols from /usr/lib/libvidix.so.1.0.0...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libvidix.so.1.0.0
</I>&gt;<i> Reading symbols from /usr/lib/libvdr-streamdev-server.so.1.6.0...done.
</I>&gt;<i> Loaded symbols for /usr/lib/libvdr-streamdev-server.so.1.6.0
</I>&gt;<i> #0  0x40250701 in kill () from /lib/i686/libc.so.6
</I>&gt;<i> (gdb) bt
</I>&gt;<i> #0  0x40250701 in kill () from /lib/i686/libc.so.6
</I>&gt;<i> #1  0x4004b351 in pthread_kill () from /lib/i686/libpthread.so.0
</I>&gt;<i> #2  0x4004b39b in raise () from /lib/i686/libpthread.so.0
</I>&gt;<i> #3  0x40250494 in raise () from /lib/i686/libc.so.6
</I>&gt;<i> #4  0x4025195c in abort () from /lib/i686/libc.so.6
</I>&gt;<i> #5  0x40e84cc4 in signal_handler () from /usr/lib/libdirect-1.0.so.0
</I>&gt;<i> #6  0x4004dcd9 in __pthread_sighandler_rt () from /lib/i686/libpthread.so.0
</I>&gt;<i> #7  &lt;signal handler called&gt;
</I>&gt;<i> #8  0x08105a54 in cListBase::Move ()
</I>
if it really crashes here, I'm not sure if the crash is caused by the
softdevice. This is code of the vdr itself and the softdevice should not
be able to mess with this.
Did you try what happens if you don't load the softdevice?
I'm not sure if I have enough time to really help you here. I'm sorry.

Bye,
Martin

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003059.html">[Softdevice-devel] Problems with softdevice (&amp;softplay) 	with	vdr-1.6.0
</A></li>
	<LI>Next message: <A HREF="003046.html">[Softdevice-devel] Problems with softdevice (&amp;softplay)	with vdr-1.6.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3045">[ date ]</a>
              <a href="thread.html#3045">[ thread ]</a>
              <a href="subject.html#3045">[ subject ]</a>
              <a href="author.html#3045">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
