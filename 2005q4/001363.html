<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] directfb g450 field order wrong?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2005q4/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20directfb%20g450%20field%20order%20wrong%3F&In-Reply-To=%3C1129278009.434f6a3999d0c%40webmail.in-berlin.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001362.html">
   <LINK REL="Next"  HREF="001364.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] directfb g450 field order wrong?</H1>
    <B>Stefan Lucke</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20directfb%20g450%20field%20order%20wrong%3F&In-Reply-To=%3C1129278009.434f6a3999d0c%40webmail.in-berlin.de%3E"
       TITLE="[Softdevice-devel] directfb g450 field order wrong?">stefan at lucke.in-berlin.de
       </A><BR>
    <I>Fri Oct 14 10:20:09 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001362.html">[Softdevice-devel] directfb g450 field order wrong?
</A></li>
        <LI>Next message: <A HREF="001364.html">[Softdevice-devel] directfb g450 field order wrong?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1363">[ date ]</a>
              <a href="thread.html#1363">[ thread ]</a>
              <a href="subject.html#1363">[ subject ]</a>
              <a href="author.html#1363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Quoting Malcolm Caldwell:

&gt;<i> On Fri, 2005-10-14 at 08:36 +0200, Stefan Lucke wrote:
</I>&gt;<i> &gt; Quoting Malcolm Caldwell:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; On Thu, 2005-10-13 at 17:21 +0930, Malcolm Caldwell wrote:
</I>&gt;<i> &gt; &gt; &gt; On Thu, 2005-10-13 at 08:36 +0200, Stefan Lucke wrote:
</I>&gt;<i> &gt; &gt; &gt; &gt; Quoting Malcolm Caldwell :
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Hello,
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; I have now setup my new vdr box with a matrox g450 and softdevice via
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; directfb using tvout.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; After a bit of work, things are working reasonably well.   My only real
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; complaint is that the picture on my tv looks bad.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; I am fairly sure that the problem is that the fields are in the wrong
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; order, ie top first vs bottom first issues.  My assumption is based on
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; the fact a) scrolling text has artifacts around the boundaries b)
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; movement especially panning has strange shimmering effects and c) the
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; effect is not evident when I turn on de-interlacing.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; Did you set setup option &quot;Screen Aspect&quot; to 4:3 ?
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; I tried a few different valuse for &quot;Screen Aspect&quot;.  I will check this
</I>&gt;<i> &gt; &gt; &gt; again and confirm that this is the case.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I have checked - regardless of the setting of &quot;Screen Aspect&quot; I see the
</I>&gt;<i> &gt; &gt; problem.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Can you show us the messages reported in syslog regarding areas
</I>&gt;<i> &gt; in use ? I'm interested in messages with &quot;aspect changed&quot; ,
</I>&gt;<i> &gt; &quot;resolution changed&quot; and &quot;[VideoOut]: %dx%d [%d,%d %dx%d] -&gt; %dx%d [%d,%d %dx%d]&quot;.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Oct 14 17:26:05 guava vdr[6848]: [VideoOut]: resolution changed: W(544 -&gt; 720); H(576 -&gt;576)
</I>&gt;<i> Oct 14 17:26:05 guava vdr[6848]: [VideoOut]: aspect changed (0 -&gt; 0 ; 1.333333 -&gt; 1.777778)
</I>&gt;<i> Oct 14 17:26:05 guava vdr[6848]: [VideoOut]: 720x576 [0,0 720x576] -&gt; 720x576 [0,85 720x405]
</I>&gt;<i>
</I>&gt;<i> (I am at work and cannot see the OSD so I am not sure what the aspect is set to.  Config files says
</I>&gt;<i> softdevice.PixelAspect = 0)
</I>
If that happens with 16:9 video to be displayed on a 4:3 TV, you may
have a look at:
<A HREF="http://mail.directfb.org/pipermail/directfb-users/2005-October/000770.html">http://mail.directfb.org/pipermail/directfb-users/2005-October/000770.html</A>

That is still an open issue :-( .

&gt;<i>
</I>&gt;<i> &gt; Can you prepare a short clip that shows your viewed effects ? Don't
</I>&gt;<i> &gt; know if I really need that, but could be next but 2nd step.
</I>&gt;<i>
</I>&gt;<i> It will be hard to make a clip: this happens on all my channels, so the
</I>&gt;<i> actual video should be fine.  To make a clip I would have to capture the
</I>&gt;<i> analogue signal and then digitise it. (Or have I misunderstood?)
</I>
I meant a short recording of 2/3 minutes.

&gt;<i>
</I>&gt;<i> &gt; You can try changeing the field order in video-dfb.c , by changing
</I>&gt;<i> &gt; SetFieldParity(0); from 0 to 1 to see if that changes something.
</I>&gt;<i>
</I>&gt;<i> OK - I will try that later tonight.
</I>&gt;<i>
</I>&gt;<i> &gt; Did you verify that you are using the right connector of your card,
</I>&gt;<i>
</I>&gt;<i> I am fairly sure I am connected to the second output.
</I>&gt;<i>
</I>&gt;<i> &gt; /etc/directfbrc is correct
</I>&gt;<i>
</I>&gt;<i> I did not find a lot of documentation on what I should use.  A friend
</I>&gt;<i> who has this working gave me his config.  This is what I have:
</I>&gt;<i>
</I>&gt;<i>         # layer setup
</I>&gt;<i>         #
</I>&gt;<i>         system=fbdev
</I>&gt;<i>         fbdev=/dev/fb0
</I>&gt;<i>         matrox-crtc2
</I>&gt;<i>         matrox-tv-standard=pal
</I>&gt;<i>         videoram-limit=32768
</I>&gt;<i>         depth=32
</I>&gt;<i>         mode=720x576
</I>&gt;<i>         pixelformat=ARGB
</I>&gt;<i>         matrox-cable-type=composite
</I>&gt;<i>         primary-layer=2
</I>&gt;<i>         capslock-meta
</I>&gt;<i>         tmpfs=/dev/shm
</I>&gt;<i>
</I>&gt;<i>
</I>
Looks good, but try to comment out system &amp; fbdev, as thats not needed (on my system).

&gt;<i> &gt;  and cable/adaptor is correct ?
</I>&gt;<i>
</I>&gt;<i> This I have no way to verify, besides un-plugging it and using a
</I>&gt;<i> multimeter.
</I>
Matrox 4pin s-video+composit adaptor should be ok.

&gt;<i>
</I>

Stefan Lucke

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001362.html">[Softdevice-devel] directfb g450 field order wrong?
</A></li>
	<LI>Next message: <A HREF="001364.html">[Softdevice-devel] directfb g450 field order wrong?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1363">[ date ]</a>
              <a href="thread.html#1363">[ thread ]</a>
              <a href="subject.html#1363">[ subject ]</a>
              <a href="author.html#1363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
