<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] Seg. faults with libavcodec under Debian...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2005q4/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20Seg.%20faults%20with%20libavcodec%20under%20Debian...&In-Reply-To=%3C1131009583.22924.8.camel%40laser2.york.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001467.html">
   <LINK REL="Next"  HREF="001446.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] Seg. faults with libavcodec under Debian...</H1>
    <B>Laurence Abbott</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20Seg.%20faults%20with%20libavcodec%20under%20Debian...&In-Reply-To=%3C1131009583.22924.8.camel%40laser2.york.ac.uk%3E"
       TITLE="[Softdevice-devel] Seg. faults with libavcodec under Debian...">laz at club-burniston.co.uk
       </A><BR>
    <I>Thu Nov  3 10:19:43 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001467.html">[Softdevice-devel] Rescaling for a large LCD TV
</A></li>
        <LI>Next message: <A HREF="001446.html">[Softdevice-devel] Seg. faults with libavcodec under Debian...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1445">[ date ]</a>
              <a href="thread.html#1445">[ thread ]</a>
              <a href="subject.html#1445">[ subject ]</a>
              <a href="author.html#1445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm currently using vdr-1.3.32 with softdevice cvs (about a week back)
and DirectFB cvs (about a week back) and I'm currently getting quite a
few segmentation faults. Finally got round to doing a back-trace and got
the following:

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 3997708 (LWP 9130)]
0xb7a0e078 in ff_mpeg1_encode_init () from /usr/lib/libavcodec-cvs.so
(gdb) bt
#0  0xb7a0e078 in ff_mpeg1_encode_init () from /usr/lib/libavcodec-cvs.so
#1  0xb7a0d038 in ff_mpeg1_encode_init () from /usr/lib/libavcodec-cvs.so
#2  0xb7a0fb55 in ff_mpeg1_encode_init () from /usr/lib/libavcodec-cvs.so
#3  0xb7a10df3 in ff_mpeg1_find_frame_end () from /usr/lib/libavcodec-cvs.so
#4  0xb79188d9 in avcodec_decode_video () from /usr/lib/libavcodec-cvs.so
#5  0xb7c9e7fa in cVideoStreamDecoder::DecodePacket (this=0x7e4, pkt=0x85ff69c)
    at mpeg2decoder.c:543
#6  0xb7c9d845 in cStreamDecoder::Action (this=0x86fa0e0) at mpeg2decoder.c:188
#7  0x08100366 in cThread::StartThread (Thread=0x86fa0e0) at thread.c:234
#8  0xb7ec6f3c in pthread_start_thread () from /lib/libpthread.so.0
#9  0xb7ec6fca in pthread_start_thread_event () from /lib/libpthread.so.0
#10 0xb7d718ba in clone () from /lib/libc.so.6

I.e. a seg. fault in libavcodec. This seems to have been worse recently,
which might be due to bad weather, although there are very few artifacts
in the picture.

I'm using Debian and this version is:
% apt-cache policy libavcodeccvs
libavcodeccvs:
  Installed: 3:20050427-0sarge0.1
  Candidate: 3:20050427-0sarge0.1
  Version Table:
 *** 3:20050427-0sarge0.1 0
        500 <A HREF="ftp://ftp.nerim.net">ftp://ftp.nerim.net</A> testing/main Packages
        100 /var/lib/dpkg/status

Is libavcodec2 from the main Debian archive any more stable? There was
definitely a reason why I needed the cvs version from ftp.nerim.net
(might have been for building mplayer).

I can remember lots of dependency problems from the last time I changed
the version of libavcodec so I don't really want to try several
versions!

What versions are other Debian people using with softdevice?

Cheers,

Laz


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001467.html">[Softdevice-devel] Rescaling for a large LCD TV
</A></li>
	<LI>Next message: <A HREF="001446.html">[Softdevice-devel] Seg. faults with libavcodec under Debian...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1445">[ date ]</a>
              <a href="thread.html#1445">[ thread ]</a>
              <a href="subject.html#1445">[ subject ]</a>
              <a href="author.html#1445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
