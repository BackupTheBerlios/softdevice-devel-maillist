<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] softdevice / DFB : scaling + OSD transparency
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2005q4/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20softdevice%20/%20DFB%20%3A%20scaling%20%2B%20OSD%20transparency&In-Reply-To=%3C434E5CBC.8020000%40e-dition.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001354.html">
   <LINK REL="Next"  HREF="001357.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] softdevice / DFB : scaling + OSD transparency</H1>
    <B>Nicolas Huillard</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20softdevice%20/%20DFB%20%3A%20scaling%20%2B%20OSD%20transparency&In-Reply-To=%3C434E5CBC.8020000%40e-dition.fr%3E"
       TITLE="[Softdevice-devel] softdevice / DFB : scaling + OSD transparency">nhuillard at e-dition.fr
       </A><BR>
    <I>Thu Oct 13 15:10:20 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001354.html">[Softdevice-devel] [announce] Gentoo ebuilds for several DirectFB projects, 0.9.22 series and current CVS
</A></li>
        <LI>Next message: <A HREF="001357.html">[Softdevice-devel] softdevice / DFB : scaling + OSD transparency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1355">[ date ]</a>
              <a href="thread.html#1355">[ thread ]</a>
              <a href="subject.html#1355">[ subject ]</a>
              <a href="author.html#1355">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I didn't know what was visualy wrong when testing 0.1.3 and 0.2.0 : this
actualy is the fact that the grey background of the OSD is fully
transparent !

Looking at STDERR, I see the following regularly appearing :

...
[dfb] (re)configuring Videolayer to 736 x 576 (720x576)
[dfb] SetParams: action=IDirectFBDisplayLayer::SetLevel(int), result=Not
supported! Failed: SetLevel()
uc_overlay: color-keying is enabled
uc_overlay: color-keying is enabled
uc_overlay: color-keying is enabled
uc_overlay: color-keying is enabled
uc_overlay: color-keying is enabled
[surface capabilities] videoSurface: videoonly double-buffered flipping
[dfb] (re)configured 0x08100609
...


1) &quot;result=Not supported! Failed: SetLevel()&quot;
I use the following DirectfB version, Debian packages from e-tobi, dated
2005-08-03 :

libdirectfb-0.9-22                          0.9.22-5sarge1
libdirectfb-bin                             0.9.22-5sarge1
libdirectfb-dev                             0.9.22-5sarge1
libdirectfb-extra                           0.9.22-5sarge1


2) &quot;736 x 576&quot;
Looking at the code, I wonder why it wants a 736 pixel width, and what
problems may arise from this (the actual resolution is 720x576, and I
have only this one).
Specially since th first reconfigure is 720x576 :

[surface capabilities] videoSurface: videoonly
[dfb] Configuring CooperativeLevel for Overlay
[dfb] Configuring CooperativeLevel for OSD
[dfb] Using this layer for OSD: FBDev Primary Layer
[dfb] Using this layer for Video out: VIA Unichrome Video
[dfb] Display frame time is 19991 microseconds
[dfb] (re)configuring Videolayer to 720 x 576 (720x576)
[dfb] SetParams: action=IDirectFBDisplayLayer::SetLevel(int), result=Not
supported! Failed: SetLevel()
uc_overlay: color-keying is enabled
uc_overlay: color-keying is enabled
uc_overlay: color-keying is enabled
uc_overlay: color-keying is enabled
[surface capabilities] videoSurface: videoonly double-buffered flipping
[dfb] (re)configured 0x08100609

-- 
NH

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001354.html">[Softdevice-devel] [announce] Gentoo ebuilds for several DirectFB projects, 0.9.22 series and current CVS
</A></li>
	<LI>Next message: <A HREF="001357.html">[Softdevice-devel] softdevice / DFB : scaling + OSD transparency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1355">[ date ]</a>
              <a href="thread.html#1355">[ thread ]</a>
              <a href="subject.html#1355">[ subject ]</a>
              <a href="author.html#1355">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
