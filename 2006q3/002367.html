<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] g450 interlaced output
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2006q3/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20g450%20interlaced%20output&In-Reply-To=%3C1849e5180609071309i38bfb466hcabae8c61ef4ddbf%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002445.html">
   <LINK REL="Next"  HREF="002395.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] g450 interlaced output</H1>
    <B>Alasdair Campbell</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20g450%20interlaced%20output&In-Reply-To=%3C1849e5180609071309i38bfb466hcabae8c61ef4ddbf%40mail.gmail.com%3E"
       TITLE="[Softdevice-devel] g450 interlaced output">ragawu at gmail.com
       </A><BR>
    <I>Thu Sep  7 22:09:20 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002445.html">[Softdevice-devel] g450 interlaced output
</A></li>
        <LI>Next message: <A HREF="002395.html">[Softdevice-devel] g450 interlaced output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2367">[ date ]</a>
              <a href="thread.html#2367">[ thread ]</a>
              <a href="subject.html#2367">[ subject ]</a>
              <a href="author.html#2367">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/09/06, Marko M&#228;kel&#228; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/softdevice-devel">marko.makela at hut.fi</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> Now I only have one wishlist item left for DirectFB on Matrox cards:
</I>&gt;<i> get rid of that busy-waiting in IDirectFBSurface::Flip() by implementing
</I>&gt;<i> some ioctl() calls to make it interrupt-driven.
</I>
Is that a lot of work?

&gt;<i> Meanwhile, this patch
</I>&gt;<i> seems to substantially reduce the CPU consumption on my system:
</I>&gt;<i>
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> According to &quot;top&quot;, the vdr process consumes 52 to 67 per cent of CPU
</I>&gt;<i> (900 MHz Celeron).
</I>&gt;<i>
</I>
With my underclocked barton (running at 1350 MHz) the following
results were got from 'top'.
[I just took the value for the vdr process with the highest value,
don't know if this is misleading].

Unpatched:
-vo dfb:mgatv  = ~40%
-vo dfb:  = ~21% ( a lovely figure!)

Patched:
-vo dfb:mgatv = ~29% (great patch)
-vo dfb: = ~29%

These were all taken during 10 minute period of BBC News 24 so I could
look out for artifacts. the bbc streams are full bitrate I seem to
remember, so for instance if I changed to something altogether more
low-fi, such as _sky news_, the cpu dropped to as low as 12% with
unpatched softdevice running with '-vo dfb:' (bloody amazing!)

With results like that, and with Matrox hardware scaled interlaced
output working in 'VGA' mode, I could nearly run vdr on my old AMD K6
500mhz relic.

&gt;<i> I plan to make some OProfile measurements this weekend.  At the very least,
</I>&gt;<i> I will measure the impact of colour space transformation (i.e., let
</I>&gt;<i> -vo dfb:mgatv show wrong colours by pretending it uses the native output
</I>&gt;<i> colour space of ffmpeg).
</I>
I remember you saying your cable didn't work with &quot;-vo dfb:&quot; because
that option didn't generate a composite sync signal - well I don't
think I made it clear enough that I _did_ see a picture of comparable
(slightly sharper) quality using &quot;-vo dfb:&quot; &amp; the cable from the
diagram we both used. When I was testing -vo dfb: and latest CVS
DirectFB the only problem was the OSD that was double sized and had
horizontal lines, oh and the squashed image above the horizontal bars.
I'm fairly sure you know that already but on reading back I don't
think I made it clear to anyone reading this, and there must be other
folk out there with the same problem.

Basically, latest DirectFB CVS with softdevice option '-vo dfb:' seems
to generate a composite signal just like '-vo dfb:mgatv' does. The
only noticeable difference is that the image quality is sharper with
'vga' out as opposed to 'TV' out, and that the interlacing artifacts
are still visible with &amp; without Stefan's patch.

Seems to me that maybe scaled interlaced output could work with '-vo
dfb:' someday, I just don't know if that's what they're aiming for
with these modifications. I'll need to read their mailing list.

regards,

-- 
A l a s d a i r   C a m p b e l l

r a g a w u @ g m a i l . c o m

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002445.html">[Softdevice-devel] g450 interlaced output
</A></li>
	<LI>Next message: <A HREF="002395.html">[Softdevice-devel] g450 interlaced output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2367">[ date ]</a>
              <a href="thread.html#2367">[ thread ]</a>
              <a href="subject.html#2367">[ subject ]</a>
              <a href="author.html#2367">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
