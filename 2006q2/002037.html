<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] Via CLE266 hardware MPEG decoding...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2006q2/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20Via%20CLE266%20hardware%20MPEG%20decoding...&In-Reply-To=%3C200605160142.54930.laz%40club-burniston.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002036.html">
   <LINK REL="Next"  HREF="002041.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] Via CLE266 hardware MPEG decoding...</H1>
    <B>Laz</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20Via%20CLE266%20hardware%20MPEG%20decoding...&In-Reply-To=%3C200605160142.54930.laz%40club-burniston.co.uk%3E"
       TITLE="[Softdevice-devel] Via CLE266 hardware MPEG decoding...">laz at club-burniston.co.uk
       </A><BR>
    <I>Tue May 16 02:42:54 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002036.html">[Softdevice-devel] Via CLE266 hardware MPEG decoding...
</A></li>
        <LI>Next message: <A HREF="002041.html">[Softdevice-devel] Via CLE266 hardware MPEG decoding...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2037">[ date ]</a>
              <a href="thread.html#2037">[ thread ]</a>
              <a href="subject.html#2037">[ subject ]</a>
              <a href="author.html#2037">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday 15 May 2006 22:27, Martin Wache wrote:
&gt;<i> Ivor Hewitt schrieb:
</I>&gt;<i> &gt; Providing a mechanism by which the X specific portions can be removed
</I>&gt;<i> &gt; from the XvMC driver and the common code shared with directfb would be 'a
</I>&gt;<i> &gt; really good thing'.
</I>&gt;<i>
</I>&gt;<i> I agree with you that it would be the best to share as much code as
</I>&gt;<i> possible. I had a look at the latest libviaXvMC and in fact
</I>&gt;<i> viaLowLevel.c is very similar to what Laz uses in his library. The one
</I>&gt;<i> major difference is the use of DMA, and I don't know if it is simple to
</I>&gt;<i> set up DMA from userspace. So maybe it is the best to start with the
</I>&gt;<i> code as it is now and try to get it working and then try to synchronize
</I>&gt;<i> the code bases.
</I>
I'm not sure of the exact origin of some of the code but I found several 
different libraries, plugins, and patches which contained very similar 
looking chunks of code!

;)

&gt;<i> What I'm not really sure about is what are Laz's plans for the library.
</I>&gt;<i> Laz, do you want your library to a stand alone library or would you like
</I>&gt;<i> to try to integrate it into DirectFB?  I would prefer the latter - but I
</I>&gt;<i> guess that means more work...
</I>
As the library stands, it seems to do its job. the only real thing to do is to 
tidy it up, etc. Obviously, it would be much simpler to use if this stuff was 
integrated properly into ffmpeg or DirectFB. I'm not sure i know enough about 
the internals either of those to do the job, though. So I think that would 
have to be down to someone else!

The MPEG2 engine in libcle266mpegdec is pretty nasty to understand but then 
this probably duplicates the work of bits of ffmpeg (and DirectFB?). It would 
(hopefully!) only need the relevant chunks of code which feed data in and out 
of the decoder, sets up the relevant buffers, etc.

&gt;<i> &gt; To clear up a couple of questions that were raised:-
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The original ddmpeg library worked under both X and FB. However it is a
</I>&gt;<i> &gt; proprietary VIA specific interface and only taken advantage of with VeMP
</I>&gt;<i> &gt; and VeXP.
</I>&gt;<i>
</I>&gt;<i> The most pressing question on my mind is: is it possible to reduce the
</I>&gt;<i> CPU load by getting rid of the busy loop while waiting for the decoder
</I>&gt;<i> to become ready again? It's quite stupid to waste CPU time just for
</I>&gt;<i> waiting for the decoder if the goal of using the decoder was to save CPU
</I>&gt;<i> time :-)
</I>
Good point! It's a great improvement in saving CPU time as it is but could be 
better.

Cheers,

Laz

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002036.html">[Softdevice-devel] Via CLE266 hardware MPEG decoding...
</A></li>
	<LI>Next message: <A HREF="002041.html">[Softdevice-devel] Via CLE266 hardware MPEG decoding...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2037">[ date ]</a>
              <a href="thread.html#2037">[ thread ]</a>
              <a href="subject.html#2037">[ subject ]</a>
              <a href="author.html#2037">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
