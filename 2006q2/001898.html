<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] video.c -r1.50 broken
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2006q2/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20video.c%20-r1.50%20broken&In-Reply-To=%3C20060423203719.GA4032%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001901.html">
   <LINK REL="Next"  HREF="001900.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] video.c -r1.50 broken</H1>
    <B>Marko M&#228;kel&#228;</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20video.c%20-r1.50%20broken&In-Reply-To=%3C20060423203719.GA4032%40localhost.localdomain%3E"
       TITLE="[Softdevice-devel] video.c -r1.50 broken">marko.makela at hut.fi
       </A><BR>
    <I>Sun Apr 23 22:37:19 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="001901.html">[Softdevice-devel] [Bug #7202] Illegal instruction
</A></li>
        <LI>Next message: <A HREF="001900.html">[Softdevice-devel] video.c -r1.50 broken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1898">[ date ]</a>
              <a href="thread.html#1898">[ thread ]</a>
              <a href="subject.html#1898">[ subject ]</a>
              <a href="author.html#1898">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I just updated my vdr box to version 1.3.48.  I see that softdevice has been
updated today as well, now that VDRVERSION != APIVERSION for the first time.

However, the current revision of video.c (r1.50) causes a crash at startup
(vdr -P'softdevice -vo:mgatv):

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread -1520223312 (LWP 4581)]
0xa776f0c8 in IDirectFBEventBuffer::GetEvent ()
   from /usr/local/lib/libdfb++-0.9.so.25
(gdb) bt
#0  0xa776f0c8 in IDirectFBEventBuffer::GetEvent ()
   from /usr/local/lib/libdfb++-0.9.so.25
#1  0xa78b8528 in cDFBVideoOut::ProcessEvents (this=0x828c950)
    at video-dfb.c:588
#2  0xa78a2e7f in cVideoOut::Action (this=0x828c950) at video.c:103
#3  0x08105720 in cThread::StartThread (Thread=0x828c950) at thread.c:244
#4  0xa7f9eced in start_thread () from /lib/tls/libpthread.so.0
#5  0xa7e17dee in clone () from /lib/tls/libc.so.6

Revision 1.49 of video.c starts, but keeps printing these messages:

[dfb] (re)configuring Videolayer to 736 x 576 (704x576)
[dfb] creating new surface (stretchBlit)
[surface capabilities] videoSurface: videoonly
[dfb] (re)configured 0x00200806
[dfb] (re)configuring Videolayer to 736 x 576 (720x576)
[dfb] creating new surface (stretchBlit)
[surface capabilities] videoSurface: videoonly
[dfb] (re)configured 0x00200806
...

	Marko

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001901.html">[Softdevice-devel] [Bug #7202] Illegal instruction
</A></li>
	<LI>Next message: <A HREF="001900.html">[Softdevice-devel] video.c -r1.50 broken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1898">[ date ]</a>
              <a href="thread.html#1898">[ thread ]</a>
              <a href="subject.html#1898">[ subject ]</a>
              <a href="author.html#1898">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
