<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] terrible judder and stuttering
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2005q2/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20terrible%20judder%20and%20stuttering&In-Reply-To=%3C1113515634.16885.40.camel%40africa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000528.html">
   <LINK REL="Next"  HREF="000530.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] terrible judder and stuttering</H1>
    <B>Torgeir Veimo</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20terrible%20judder%20and%20stuttering&In-Reply-To=%3C1113515634.16885.40.camel%40africa%3E"
       TITLE="[Softdevice-devel] terrible judder and stuttering">torgeir at pobox.com
       </A><BR>
    <I>Thu Apr 14 23:53:54 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000528.html">[Softdevice-devel] terrible judder and stuttering
</A></li>
        <LI>Next message: <A HREF="000530.html">[Softdevice-devel] terrible judder and stuttering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#529">[ date ]</a>
              <a href="thread.html#529">[ thread ]</a>
              <a href="subject.html#529">[ subject ]</a>
              <a href="author.html#529">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2005-04-14 at 23:17 +0200, Stefan Lucke wrote:

&gt;<i> The only thing I noticed that from time to time is a slight
</I>&gt;<i> judder as frames were repeated. THis my be caused when the receiving
</I>&gt;<i> framerate is slightly lower than matrox framerate. I should ask for
</I>&gt;<i> framerate adjustment on directfb list again.
</I>
I've been thinking about writing some code for detecting this, when the
framebuffer device implements FBIO_WAITFORVSYNC. A separate thread would
wait on vsync, each time it is called, it would atomically increment a
counter, and just wait for vsync again. The DirectFB output plugin would
decrement the same counter each time it calls Flip(). 

If there is frame starvation, the counter would over time grow, and it
would be possible to also detect judder due to other processes hijacking
the cpu by checking if abs(current_count - prev_count) &gt; 1 at each call
to Flip().

I'm a bit busy with work and life in general, so haven't had the time to
look into it yet..

-- 
Torgeir Veimo &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/softdevice-devel">torgeir at pobox.com</A>&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000528.html">[Softdevice-devel] terrible judder and stuttering
</A></li>
	<LI>Next message: <A HREF="000530.html">[Softdevice-devel] terrible judder and stuttering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#529">[ date ]</a>
              <a href="thread.html#529">[ thread ]</a>
              <a href="subject.html#529">[ subject ]</a>
              <a href="author.html#529">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
