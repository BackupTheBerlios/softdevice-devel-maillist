<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] blank screen after some time with no signal
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2005q2/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20blank%20screen%20after%20some%20time%20with%20no%20signal&In-Reply-To=%3C200505191937.26226.stefan%40lucke.in-berlin.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000697.html">
   <LINK REL="Next"  HREF="000699.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] blank screen after some time with no signal</H1>
    <B>Stefan Lucke</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20blank%20screen%20after%20some%20time%20with%20no%20signal&In-Reply-To=%3C200505191937.26226.stefan%40lucke.in-berlin.de%3E"
       TITLE="[Softdevice-devel] blank screen after some time with no signal">stefan at lucke.in-berlin.de
       </A><BR>
    <I>Thu May 19 19:37:26 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000697.html">[Softdevice-devel] blank screen after some time with no signal
</A></li>
        <LI>Next message: <A HREF="000699.html">[Softdevice-devel] blank screen after some time with no signal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#698">[ date ]</a>
              <a href="thread.html#698">[ thread ]</a>
              <a href="subject.html#698">[ subject ]</a>
              <a href="author.html#698">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Donnerstag, 19. Mai 2005 17:43, Martin Wache wrote:
&gt;<i> Stefan Lucke wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt;Hmm, that's a difficult one - the problem is on one side we want to have 
</I>&gt;<i> &gt;&gt;a fast responsive OSD, for this the screen has to be redrawn in software 
</I>&gt;<i> &gt;&gt;  alpha mode, but we havn't got the last frame any more...
</I>&gt;<i> &gt;&gt;I guess the only solution for this is to override libavcodec's get 
</I>&gt;<i> &gt;&gt;buffer/release buffer functions and always keep a pointer of the last 
</I>&gt;<i> &gt;&gt;frame. If we do that we can finally can also take screenshots with the 
</I>&gt;<i> &gt;&gt;softdevice.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Shouldn't that extra buffering be done by the output method, as that
</I>&gt;<i> &gt; kind of OSD mixing is already done within dfb.
</I>&gt;<i> The trick is that this way we don't need extra buffering. If we override 
</I>&gt;<i> lavc getbuffer/relasebuffer functions we can decide when to reuse/free a 
</I>&gt;<i> frame buffer. So we can just keep the last frame a bit longer in case we 
</I>&gt;<i> need it again and free/reuse it when we got the next frame from lavc.
</I>
Hmm, that trick sound interesting. We should try that in the near future.

&gt;<i> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;&gt;I would like to postpone this change until I did the first release of 
</I>&gt;<i> &gt;&gt;softplay, which hopefully will be this weekend.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Here I see some troubles, as softplay needs a change in softdevice
</I>&gt;<i> &gt; for pause handling. So there should be a release of softdevice too.
</I>&gt;<i> &gt; Hm, release 0.1.1 shows a similar behaviour so fixing that
</I>&gt;<i> &gt; can be delayed.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; So there should be only changes to softdevice, if there are impacts
</I>&gt;<i> &gt; of latest ffmpeg time effects on softplay which have to be handled
</I>&gt;<i> &gt; in softdevice too.
</I>&gt;<i> &gt; 
</I>&gt;<i> I could not yet check these time effects, but I will do so this evening.
</I>&gt;<i> 
</I>&gt;<i> Haveing a softdevice release which works without any problems with 
</I>&gt;<i> softplay would be good, that sure. On the other hand I think it would be 
</I>&gt;<i> important to have the HDTV buffering issues fixed in the next release, 
</I>&gt;<i> but that requires a rework of my patch. Unfortunaltly I can do only one 
</I>&gt;<i> thing until the weekend: finish the HDTV buffering patch or finish softplay.
</I>
If I could choose: finishing/releasing softplay should have a
higher priority.

&gt;<i> Maybe I should only release a pre version of softplay this weekend and 
</I>&gt;<i> we can have combined softdevice/softplay release on one of the following 
</I>&gt;<i> weekends?
</I>&gt;<i> Or we release the softdevice this weekend without the HDTV fix, that's 
</I>&gt;<i> up to you.
</I>
Oh we can release current version as 0.1.2 .
HDTV ready or AC3 should increase the release counter :-) 
(0.2.0 / 0.3.0) .

&gt;<i> Well, I guess I will first have to find out what's the cause for the 
</I>&gt;<i> time issues of softplay. If a fix of this requires a change of the 
</I>&gt;<i> softdevice releasing softplay alone doesn't make much sense.
</I>
Ack.


-- 
Stefan Lucke


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000697.html">[Softdevice-devel] blank screen after some time with no signal
</A></li>
	<LI>Next message: <A HREF="000699.html">[Softdevice-devel] blank screen after some time with no signal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#698">[ date ]</a>
              <a href="thread.html#698">[ thread ]</a>
              <a href="subject.html#698">[ subject ]</a>
              <a href="author.html#698">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
