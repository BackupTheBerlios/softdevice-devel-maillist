<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] Minor AV sync problems
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2005q3/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20Minor%20AV%20sync%20problems&In-Reply-To=%3C20050811183806.GD443738%40kosh.hut.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001101.html">
   <LINK REL="Next"  HREF="001109.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] Minor AV sync problems</H1>
    <B>Marko M&#228;kel&#228;</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20Minor%20AV%20sync%20problems&In-Reply-To=%3C20050811183806.GD443738%40kosh.hut.fi%3E"
       TITLE="[Softdevice-devel] Minor AV sync problems">marko.makela at hut.fi
       </A><BR>
    <I>Thu Aug 11 20:38:06 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001101.html">[Softdevice-devel] Minor AV sync problems
</A></li>
        <LI>Next message: <A HREF="001109.html">[Softdevice-devel] Minor AV sync problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1102">[ date ]</a>
              <a href="thread.html#1102">[ thread ]</a>
              <a href="subject.html#1102">[ subject ]</a>
              <a href="author.html#1102">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Aug 11, 2005 at 08:49:12PM +0300, Marko M&#228;kel&#228; wrote:
&gt;<i> I see that there are very many committed changes since that May 29 commit,
</I>&gt;<i> and I'd expect to have a few merge conflicts when trying to revert those
</I>&gt;<i> changes only.  I'll give it a short try.  I'm not too knowledgeable in
</I>&gt;<i> the internals of MPEG decoding, so don't count on me.
</I>
I gave up, it'd take too much time with the archaic development
environment (vi, patch, diff, no X11) that is installed on my
VDR box.  Even if I had GNU Emacs installed, I couldn't really
tell which lines in the diff between mpeg2decoder.c -r1.37 and
-r1.38 are relevant.

&gt;<i> So far, this bug was confirmed by another DirectFB and Matrox G[45][50]0
</I>&gt;<i> user.  What about DirectFB users having other than Matrox cards?
</I>
Furthermore, could it be that Xv output is not double or triple buffered?
I saw a comment that said that the A-V delay is best computed after
displaying the frame.  Does that refer to the cathode ray actually
drawing the last visible line on the screen, or to blitting the bitmap
to the screen memory?  If the latter and if Xv doesn't have any double
buffering or synchronization to the output video signal, this could
well be the reason why A-V sync has gone bad on DirectFB.  (I have the
impression that DirectFB does double or triple buffering.)

One more thing: would it be helpful to enable MPGDEB in mpeg2decoder.c
and send you the output?  Is it normal to have audio pts offset floating
around 0x80000000?  Examples: -2454882835, -2454882862, -2454882889.

	Marko

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001101.html">[Softdevice-devel] Minor AV sync problems
</A></li>
	<LI>Next message: <A HREF="001109.html">[Softdevice-devel] Minor AV sync problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1102">[ date ]</a>
              <a href="thread.html#1102">[ thread ]</a>
              <a href="subject.html#1102">[ subject ]</a>
              <a href="author.html#1102">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
