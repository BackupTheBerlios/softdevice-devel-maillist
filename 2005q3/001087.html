<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] Automatic softdevice suspension?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2005q3/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20Automatic%20softdevice%20suspension%3F&In-Reply-To=%3C20050804105055.GC3420%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001086.html">
   <LINK REL="Next"  HREF="001088.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] Automatic softdevice suspension?</H1>
    <B>Marko M&#228;kel&#228;</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20Automatic%20softdevice%20suspension%3F&In-Reply-To=%3C20050804105055.GC3420%40localhost.localdomain%3E"
       TITLE="[Softdevice-devel] Automatic softdevice suspension?">marko.makela at hut.fi
       </A><BR>
    <I>Thu Aug  4 12:50:55 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001086.html">[Softdevice-devel] Automatic softdevice suspension?
</A></li>
        <LI>Next message: <A HREF="001088.html">[Softdevice-devel] Automatic softdevice suspension?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1087">[ date ]</a>
              <a href="thread.html#1087">[ thread ]</a>
              <a href="subject.html#1087">[ subject ]</a>
              <a href="author.html#1087">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Aug 04, 2005 at 12:41:16PM +0300, Seppo Ingalsuo wrote:
&gt;<i> I wonder if would make sense to have a configurable timer to activate 
</I>&gt;<i> suspension after e.g. 3 hours of vdr user remote/key inactivity or 
</I>&gt;<i> whatever suitable timeout. It would save power and e.g. in my vdr box 
</I>&gt;<i> enable entering passive cooled mode with CPU fan switched off when CPU 
</I>&gt;<i> load is very low. It could also help in avoiding timer based recording 
</I>&gt;<i> failures if softdevice would for some reason crash.
</I>
Exactly that is why I patched video-dfb.c to capture an otherwise
unmapped remote control key (see
<A HREF="http://www.funet.fi/~msmakela/electronics/worc5/">http://www.funet.fi/~msmakela/electronics/worc5/</A>).  That is of course
an ugly hack.

The right thing to do would be to add a &quot;suspended&quot; flag to VDR's
cDevice class, and perhaps introduce a kSleep key as well, in case
you temporarily need to shut down VDR playback to answer phone or
to free some CPU cycles to transcode recordings or burn CDs or DVDs.

In any case, the kPower key should be modified to suspend playback
if VDR cannot be shut down because it is recording something.

I'm going to make these modifications.  However, our second son was
just born this morning, and it will probably take some time before
I will have time for any hacking.  I'll try if I manage to do something
tonight, as my wife and the little son won't return to home today.

&gt;<i> Xv part of softdevice has some interaction with xscreensaver but it is 
</I>&gt;<i> not clear to me what it does (I had to add &quot;xset -dpms s off&quot; to my 
</I>&gt;<i> .xsession script to disable screen blanking). In a very much X output 
</I>&gt;<i> method related idea an active xscreensaver could perhaps trigger 
</I>&gt;<i> suspended mode in softdevice. If the VGA/DVI display understands DPMS it 
</I>&gt;<i> would bring the benefit of automatic monitor power switching. What do 
</I>&gt;<i> you think?
</I>
I think it was supposed to work already.  Shortly after some work was
done on the DPMS stuff in video-xv.c, I used the Suspend and Resume
hooks (in mpeg2decoder.c I think) to flip the RS-232 TxD line that
controls the power supply of my ancient VGA monitor.  (See
<A HREF="http://www.funet.fi/~msmakela/electronics/relay/">http://www.funet.fi/~msmakela/electronics/relay/</A>).

	Marko

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001086.html">[Softdevice-devel] Automatic softdevice suspension?
</A></li>
	<LI>Next message: <A HREF="001088.html">[Softdevice-devel] Automatic softdevice suspension?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1087">[ date ]</a>
              <a href="thread.html#1087">[ thread ]</a>
              <a href="subject.html#1087">[ subject ]</a>
              <a href="author.html#1087">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
