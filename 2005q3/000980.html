<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] [PATCH]
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2005q3/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20%5BPATCH%5D&In-Reply-To=%3C42D7C10C.9000109%40gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000978.html">
   <LINK REL="Next"  HREF="000984.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] [PATCH]</H1>
    <B>Martin Wache</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20%5BPATCH%5D&In-Reply-To=%3C42D7C10C.9000109%40gmx.net%3E"
       TITLE="[Softdevice-devel] [PATCH]">M.Wache at gmx.net
       </A><BR>
    <I>Fri Jul 15 15:58:36 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000978.html">[Softdevice-devel] [PATCH]
</A></li>
        <LI>Next message: <A HREF="000984.html">[Softdevice-devel] [PATCH]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#980">[ date ]</a>
              <a href="thread.html#980">[ thread ]</a>
              <a href="subject.html#980">[ subject ]</a>
              <a href="author.html#980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Vadim Catana schrieb:
&gt;<i> Stefan Lucke wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Before including much code from other projects we need a configure
</I>&gt;&gt;<i> script for checking exact capabilities of current enviroment.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For some reasons I don't like those generated by autotools. Those
</I>&gt;&gt;<i> generated
</I>&gt;&gt;<i> scripts are laarge (&gt; 100 KB).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The way ffmpeg and mplayer handle this I like more. Attached is
</I>&gt;&gt;<i> my current hacked script with output.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I was thinking to put some defines in the Makefile and allow
</I>&gt;<i> the user to select CPU and instruction set. Something like
</I>&gt;<i> 
</I>&gt;<i> #define ARCH_X86
</I>&gt;<i> #define ARCH_X86_64
</I>&gt;<i> 
</I>&gt;<i> #define HAVE_MMX
</I>&gt;<i> #define HAVE_MMX2
</I>&gt;<i> #define HAVE_SSE
</I>&gt;<i> #define HAVE_SSE2
</I>&gt;<i> #define HAVE_3DNOW
</I>&gt;<i> 
</I>I would like to keep the number configure options as small as possible,
that's one of the reasons why I removed most of the architectures from
mplayer's fast_memcpy. The other reason is that the performance
differences are not that big. I didn't see a measurable effect betwen
3dnow and MMX2 on my Athlon Tbird 1Ghz, so why keep it?
The only possible use of SSE would be memory transfer, it can't be used
for instance for color space transformations, so do we really need it?
Only fast processors have SSE at all so I guess even there we don't need
it (well maybe for P3 based celeron processors and P3s...).

That way we can stay with having USE_MMX and USE_MMX2 (which is
compatible with 3Dnow! in our implementation) which can stay turned on
for almost all processors and our code remains small and simple...

Yesterday I tried to compile utils.c using the build in define
__x86_64__, it worked fine for me so I will commit this change when I
find the time this weekend. If then fast_memcpy also compiles for you,
from my point of view we can commit your patch.

Martin

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000978.html">[Softdevice-devel] [PATCH]
</A></li>
	<LI>Next message: <A HREF="000984.html">[Softdevice-devel] [PATCH]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#980">[ date ]</a>
              <a href="thread.html#980">[ thread ]</a>
              <a href="subject.html#980">[ subject ]</a>
              <a href="author.html#980">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
