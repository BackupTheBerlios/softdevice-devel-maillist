<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Softdevice-devel] Crashes or bugs when rewinding over an aspect ratio change
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/softdevice-devel/2005q3/index.html" >
   <LINK REL="made" HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20Crashes%20or%20bugs%20when%20rewinding%20over%20an%20aspect%20ratio%20change&In-Reply-To=%3C1125995187.431d52b3cb8cb%40webmail.in-berlin.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001187.html">
   <LINK REL="Next"  HREF="001189.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Softdevice-devel] Crashes or bugs when rewinding over an aspect ratio change</H1>
    <B>Stefan Lucke</B> 
    <A HREF="mailto:softdevice-devel%40lists.berlios.de?Subject=Re%3A%20%5BSoftdevice-devel%5D%20Crashes%20or%20bugs%20when%20rewinding%20over%20an%20aspect%20ratio%20change&In-Reply-To=%3C1125995187.431d52b3cb8cb%40webmail.in-berlin.de%3E"
       TITLE="[Softdevice-devel] Crashes or bugs when rewinding over an aspect ratio change">stefan at lucke.in-berlin.de
       </A><BR>
    <I>Tue Sep  6 10:26:27 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001187.html">[Softdevice-devel] Crashes or bugs when rewinding over an aspect ratio change
</A></li>
        <LI>Next message: <A HREF="001189.html">[Softdevice-devel] Crashes or bugs when rewinding over an aspect ratio change
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1188">[ date ]</a>
              <a href="thread.html#1188">[ thread ]</a>
              <a href="subject.html#1188">[ subject ]</a>
              <a href="author.html#1188">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Quoting Marko M&#228;kel&#228; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/softdevice-devel">marko.makela at hut.fi</A>&gt;:

&gt;<i> On Tue, Sep 06, 2005 at 09:42:07AM +0200, Stefan Lucke wrote:
</I>&gt;<i> &gt; Doh, we are just copying the last line of Pv colour information.
</I>&gt;<i> &gt; When that crash happens, is the last line of aspect change information written
</I>&gt;<i> &gt; to syslog ([VideoOut]: %dx%d [%d,%d %dx%d] -&gt; %dx%d [%d,%d %dx%d]) ?
</I>&gt;<i> &gt; Are there odd numbers ?
</I>&gt;<i>
</I>&gt;<i> Nope, but I have disabled CMDDEB if that makes a difference.  Here's
</I>&gt;<i> the output from the log after a couple of f.fwd and rewind.  The last
</I>&gt;<i> one lead to the crash:
</I>&gt;<i>
</I>&gt;<i> [softdevice] picture buffer released
</I>&gt;<i> [softdevice] allocating picture buffer for resolution 704x576 format 0
</I>
Thats stdout/stderr. That aspect changeinformation I asked for is written
to syslog with dsyslog().

&gt;<i> ++++++++++++++++++++++++
</I>&gt;<i>
</I>&gt;<i> (no newline at the end of the '+++' line)
</I>
This are single '+' written when we are a bit late in sync ;-( .

&gt;<i>
</I>&gt;<i> &gt; Maybe thats a rounding issue, when placing the desired protion of the layer.
</I>&gt;<i> &gt; If that idea is true, it should by avoided by using the newer directfb
</I>&gt;<i> &gt; interface for that purpose. This newer interface can be activated by
</I>&gt;<i> &gt; changing line 20 in video-dfb.c from:
</I>&gt;<i> &gt; # define HAVE_SetSourceLocation 0
</I>&gt;<i> &gt; to:
</I>&gt;<i> &gt; # define HAVE_SetSourceLocation 1
</I>&gt;<i>
</I>&gt;<i> Yes, I recall that suggestion from a few weeks ago, and I think that the
</I>&gt;<i> modification made the crashes go away earlier.  However, I recall there
</I>&gt;<i> were other problems the last time I tried it.  I think I'll have to keep
</I>&gt;<i> using that setting longer now.  It seems to make the crash go away.
</I>&gt;<i>
</I>&gt;<i> Is there a reason why this cannot be made the default?  Does DirectFB
</I>&gt;<i> define any version symbol that could be checked with ifdef?
</I>
It can be detected via configure :-) .

&gt;<i>
</I>&gt;<i> It looks like softdevice won't always detect aspect ratio changes during
</I>&gt;<i> rewind.  It'll display 4:3 footage as 16:9, even after pressing Stop and Play.
</I>&gt;<i> Skipping stream in 1-minute steps sometimes makes it detect the correct aspect
</I>&gt;<i> ratio, but only if the skipping will switch from 4:3 to 16:9 and back.
</I>&gt;<i> Isn't the aspect ratio setting included in every GOP?
</I>&gt;<i>
</I>
Aspect changes should be detected immediate, but it is done in ffmpeg.
Which exact version do you use ?

I'll have to do some rewind training.


Stefan Lucke

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001187.html">[Softdevice-devel] Crashes or bugs when rewinding over an aspect ratio change
</A></li>
	<LI>Next message: <A HREF="001189.html">[Softdevice-devel] Crashes or bugs when rewinding over an aspect ratio change
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1188">[ date ]</a>
              <a href="thread.html#1188">[ thread ]</a>
              <a href="subject.html#1188">[ subject ]</a>
              <a href="author.html#1188">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/softdevice-devel">More information about the Softdevice-devel
mailing list</a><br>
</body></html>
